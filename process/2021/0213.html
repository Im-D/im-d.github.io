<!DOCTYPE html>
  <html lang="ko">

  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>IMD Process Site</title>
    <link rel="stylesheet" href="https://im-d.github.io/Im-Infographic-FE/style@1.css">
  </head>

  <body />

  <script type="module">
    import { render } from 'https://unpkg.com/lit-html?module';
    import APP from 'https://im-d.github.io/Im-Infographic-FE/src/index@1.js';

    const fetchAuthor = fetch('https://im-d.github.io/Im-Infographic-BE/data/author/20210213.json').then(res => res.json())
    const fetchIMDInfo = fetch('https://im-d.github.io/Im-Infographic-BE/data/imd_info/20210213.json').then(res => res.json())
    const fetchIMDRepos = fetch('https://im-d.github.io/Im-Infographic-BE/data/imd_repos/20210213.json').then(res => res.json())
    const fetchPR = fetch('https://im-d.github.io/Im-Infographic-BE/data/pr/20210213.json').then(res => res.json())
    const fetchNextStepPR = fetch('https://im-d.github.io/Im-Infographic-BE/data/pr_next_step/20210213.json').then(res => res.json())

    Promise.all([fetchAuthor, fetchIMDInfo, fetchIMDRepos, fetchPR, fetchNextStepPR])
      .then(([author, imd_info, imd_repos, pr, pr_next_step]) => {
        const state = {
          author, 
          imd_info,
          imd_repos,
          pr,
          pr_next_step,
        }
        render(APP(state), document.body);
      })
  </script>

  </html>
 